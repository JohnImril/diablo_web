(function(){"use strict";var q=function(){var s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(l){l=l||{};var e=typeof l<"u"?l:{},R={},w;for(w in e)e.hasOwnProperty(w)&&(R[w]=e[w]);e.arguments=[],e.thisProgram="./this.program",e.quit=function(n,r){throw r},e.preRun=[],e.postRun=[];var b=!1,x=!1,k=!1,W=!1;b=typeof window=="object",x=typeof importScripts=="function",k=typeof process=="object"&&typeof require=="function"&&!b&&!x,W=!b&&!k&&!x;var A="";function re(n){return e.locateFile?e.locateFile(n,A):A+n}if(k){A=__dirname+"/";var te,ie;e.read=function(r,t){var i;return te||(te=require("fs")),ie||(ie=require("path")),r=ie.normalize(r),i=te.readFileSync(r),t?i:i.toString()},e.readBinary=function(r){var t=e.read(r,!0);return t.buffer||(t=new Uint8Array(t)),U(t.buffer),t},process.argv.length>1&&(e.thisProgram=process.argv[1].replace(/\\/g,"/")),e.arguments=process.argv.slice(2),process.on("uncaughtException",function(n){if(!(n instanceof Z))throw n}),process.on("unhandledRejection",function(n,r){process.exit(1)}),e.quit=function(n){process.exit(n)},e.inspect=function(){return"[Emscripten Module object]"}}else W?(typeof read<"u"&&(e.read=function(r){return read(r)}),e.readBinary=function(r){var t;return typeof readbuffer=="function"?new Uint8Array(readbuffer(r)):(t=read(r,"binary"),U(typeof t=="object"),t)},typeof scriptArgs<"u"?e.arguments=scriptArgs:typeof arguments<"u"&&(e.arguments=arguments),typeof quit=="function"&&(e.quit=function(n){quit(n)})):(b||x)&&(b?document.currentScript&&(A=document.currentScript.src):A=self.location.href,s&&(A=s),A.indexOf("blob:")!==0?A=A.split("/").slice(0,-1).join("/")+"/":A="",e.read=function(r){var t=new XMLHttpRequest;return t.open("GET",r,!1),t.send(null),t.responseText},x&&(e.readBinary=function(r){var t=new XMLHttpRequest;return t.open("GET",r,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),e.readAsync=function(r,t,i){var a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType="arraybuffer",a.onload=function(){if(a.status==200||a.status==0&&a.response){t(a.response);return}i()},a.onerror=i,a.send(null)},e.setWindowTitle=function(n){document.title=n});var ve=e.print||(typeof console<"u"?console.log.bind(console):typeof print<"u"?print:null),S=e.printErr||(typeof printErr<"u"?printErr:typeof console<"u"&&console.warn.bind(console)||ve);for(w in R)R.hasOwnProperty(w)&&(e[w]=R[w]);R=void 0;var De=16;function Le(n){var r=E;return E=E+n+15&-16,r}function ge(n,r){r||(r=De);var t=n=Math.ceil(n/r)*r;return t}var Ne={"f64-rem":function(n,r){return n%r},debugger:function(){debugger}};new Array(0);var We=1024,ae=0;function U(n,r){n||O("Assertion failed: "+r)}function oe(n,r){if(r===0||!n)return"";for(var t=0,i,a=0;i=T[n+a>>0],t|=i,!(i==0&&!r||(a++,r&&a==r)););r||(r=a);var o="";if(t<128){for(var u=1024,_;r>0;)_=String.fromCharCode.apply(String,T.subarray(n,n+Math.min(r,u))),o=o?o+_:_,n+=u,r-=u;return o}return Fe(n)}var he=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ue(n,r){for(var t=r;n[t];)++t;if(t-r>16&&n.subarray&&he)return he.decode(n.subarray(r,t));for(var i,a,o,u,_,g,P="";;){if(i=n[r++],!i)return P;if(!(i&128)){P+=String.fromCharCode(i);continue}if(a=n[r++]&63,(i&224)==192){P+=String.fromCharCode((i&31)<<6|a);continue}if(o=n[r++]&63,(i&240)==224?i=(i&15)<<12|a<<6|o:(u=n[r++]&63,(i&248)==240?i=(i&7)<<18|a<<12|o<<6|u:(_=n[r++]&63,(i&252)==248?i=(i&3)<<24|a<<18|o<<12|u<<6|_:(g=n[r++]&63,i=(i&1)<<30|a<<24|o<<18|u<<12|_<<6|g))),i<65536)P+=String.fromCharCode(i);else{var ee=i-65536;P+=String.fromCharCode(55296|ee>>10,56320|ee&1023)}}}function Fe(n){return Ue(T,n)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");var ue=65536,we=16777216,Ge=16777216;function se(n,r){return n%r>0&&(n+=r-n%r),n}var m,be,T,M;function Ae(n){e.buffer=m=n}function fe(){e.HEAP8=be=new Int8Array(m),e.HEAP16=new Int16Array(m),e.HEAP32=M=new Int32Array(m),e.HEAPU8=T=new Uint8Array(m),e.HEAPU16=new Uint16Array(m),e.HEAPU32=new Uint32Array(m),e.HEAPF32=new Float32Array(m),e.HEAPF64=new Float64Array(m)}var V,E,le,ce,X,_e,D;V=E=le=ce=X=_e=D=0;function He(){O("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+p+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}e.reallocBuffer||(e.reallocBuffer=function(n){var r;try{if(ArrayBuffer.transfer)r=ArrayBuffer.transfer(m,n);else{var t=be;r=new ArrayBuffer(n);var i=new Int8Array(r);i.set(t)}}catch{return!1}var a=Bn(r);return a?r:!1});function ze(){var n=e.usingWasm?ue:we,r=2147483648-n;if(M[D>>2]>r)return!1;var t=p;for(p=Math.max(p,Ge);p<M[D>>2];)p<=536870912?p=se(2*p,n):p=Math.min(se((3*p+2147483648)/4,n),r);var i=e.reallocBuffer(p);return!i||i.byteLength!=p?(p=t,!1):(Ae(i),fe(),!0)}var pe;try{pe=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),pe(new ArrayBuffer(4))}catch{pe=function(r){return r.byteLength}}var me=e.TOTAL_STACK||5242880,p=e.TOTAL_MEMORY||134217728;p<me&&S("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+p+"! (TOTAL_STACK="+me+")"),e.buffer?m=e.buffer:(typeof WebAssembly=="object"&&typeof WebAssembly.Memory=="function"?(e.wasmMemory=new WebAssembly.Memory({initial:p/ue}),m=e.wasmMemory.buffer):m=new ArrayBuffer(p),e.buffer=m),fe();function qe(){return p}function J(n){for(;n.length>0;){var r=n.shift();if(typeof r=="function"){r();continue}var t=r.func;typeof t=="number"?r.arg===void 0?e.dynCall_v(t):e.dynCall_vi(t,r.arg):t(r.arg===void 0?null:r.arg)}}var Te=[],Ce=[],Ye=[],Re=[],xe=!1;function Ke(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Qe(e.preRun.shift());J(Te)}function Ve(){xe||(xe=!0,J(Ce))}function Xe(){J(Ye)}function Je(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Se(e.postRun.shift());J(Re)}function Qe(n){Te.unshift(n)}function Se(n){Re.unshift(n)}var j=0,F=null;function $e(n){j++,e.monitorRunDependencies&&e.monitorRunDependencies(j)}function Ze(n){if(j--,e.monitorRunDependencies&&e.monitorRunDependencies(j),j==0&&F){var r=F;F=null,r()}}e.preloadedImages={},e.preloadedAudios={};var Me="data:application/octet-stream;base64,";function Q(n){return String.prototype.startsWith?n.startsWith(Me):n.indexOf(Me)===0}function en(){var n="MpqCmp.wast",r="MpqCmp.wasm",t="MpqCmp.temp.asm.js";Q(n)||(n=re(n)),Q(r)||(r=re(r)),Q(t)||(t=re(t));var i=64*1024,a={global:null,env:null,asm2wasm:Ne,parent:e},o=null;function u(f){var c=e.buffer;f.byteLength<c.byteLength&&S("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var H=new Int8Array(c),h=new Int8Array(f);h.set(H),Ae(f),fe()}function _(f){return f}function g(){try{if(e.wasmBinary)return new Uint8Array(e.wasmBinary);if(e.readBinary)return e.readBinary(r);throw"both async and sync fetching of the wasm failed"}catch(f){O(f)}}function P(){return!e.wasmBinary&&(b||x)&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(function(f){if(!f.ok)throw"failed to load wasm binary file at '"+r+"'";return f.arrayBuffer()}).catch(function(){return g()}):new Promise(function(f,c){f(g())})}function ee(f,c,H){if(typeof WebAssembly!="object")return S("no native wasm support detected"),!1;if(!(e.wasmMemory instanceof WebAssembly.Memory))return S("no native wasm Memory in use"),!1;c.memory=e.wasmMemory,a.global={NaN:NaN,Infinity:1/0},a["global.Math"]=Math,a.env=c;function h(C,z){o=C.exports,o.memory&&u(o.memory),e.asm=o,e.usingWasm=!0,Ze()}if($e(),e.instantiateWasm)try{return e.instantiateWasm(a,h)}catch(C){return S("Module.instantiateWasm callback failed with error: "+C),!1}function I(C){h(C.instance,C.module)}function B(C){P().then(function(z){return WebAssembly.instantiate(z,a)}).then(C).catch(function(z){S("failed to asynchronously prepare wasm: "+z),O(z)})}return!e.wasmBinary&&typeof WebAssembly.instantiateStreaming=="function"&&!Q(r)&&typeof fetch=="function"?WebAssembly.instantiateStreaming(fetch(r,{credentials:"same-origin"}),a).then(I).catch(function(C){S("wasm streaming compile failed: "+C),S("falling back to ArrayBuffer instantiation"),B(I)}):B(I),{}}e.asmPreload=e.asm;var Dn=e.reallocBuffer,Ln=function(f){var c=e.usingWasm?ue:we;f=se(f,c);var H=e.buffer,h=H.byteLength;if(e.usingWasm)try{var I=e.wasmMemory.grow((f-h)/i);return I!==-1?e.buffer=e.wasmMemory.buffer:null}catch{return null}};e.reallocBuffer=function(f){return Nn==="asmjs"?Dn(f):Ln(f)};var Nn="";e.asm=function(f,c,H){if(c=c,!c.table){var h=e.wasmTableSize;h===void 0&&(h=1024);var I=e.wasmMaxTableSize;typeof WebAssembly=="object"&&typeof WebAssembly.Table=="function"?I!==void 0?c.table=new WebAssembly.Table({initial:h,maximum:I,element:"anyfunc"}):c.table=new WebAssembly.Table({initial:h,element:"anyfunc"}):c.table=new Array(h),e.wasmTable=c.table}c.memoryBase||(c.memoryBase=e.STATIC_BASE),c.tableBase||(c.tableBase=0);var B;return B=ee(f,c),U(B,"no binaryen method succeeded."),B},e.asm}en();function nn(n){var r=T.indexOf(0,n),t=String.fromCharCode.apply(null,T.subarray(n,r));self.DApi.exit_error(t)}function rn(n,r){self.DApi.progress(n,r)}function tn(n,r,t){self.DApi.get_file_contents(T.subarray(n,n+t),r)}function an(n,r,t){self.DApi.put_file_contents(T.subarray(n,n+t),r)}function on(n){self.DApi.put_file_size(n)}V=We,E=V+28880,Ce.push();var un=28880;e.STATIC_BASE=V,e.STATIC_BUMP=un;var sn=E;E+=16;function fn(n,r,t,i){O("Assertion failed: "+oe(n)+", at: "+[r?oe(r):"unknown filename",t,i?oe(i):"unknown function"])}function ln(n){return Oe(n)}function cn(){return L.apply(null,arguments)}function Ee(n){try{return kn(n)}catch{}}function G(){return!!G.uncaught_exception}var v={last:0,caught:[],infos:{},deAdjust:function(n){if(!n||v.infos[n])return n;for(var r in v.infos){var t=+r,i=v.infos[t];if(i.adjusted===n)return t}return n},addRef:function(n){if(n){var r=v.infos[n];r.refcount++}},decRef:function(n){if(n){var r=v.infos[n];U(r.refcount>0),r.refcount--,r.refcount===0&&!r.rethrown&&(r.destructor&&e.dynCall_vi(r.destructor,n),delete v.infos[n],Ee(n))}},clearRef:function(n){if(n){var r=v.infos[n];r.refcount=0}}};function _n(n){throw v.last||(v.last=n),n}function L(){var n=v.last;if(!n)return $(0),0|0;var r=v.infos[n],t=r.type;if(!t)return $(0),n|0;var i=Array.prototype.slice.call(arguments);e.___cxa_is_pointer_type(t),L.buffer||(L.buffer=Oe(4)),M[L.buffer>>2]=n,n=L.buffer;for(var a=0;a<i.length;a++)if(i[a]&&e.___cxa_can_catch(i[a],t,n))return n=M[n>>2],r.adjusted=n,$(i[a]),n|0;return n=M[n>>2],$(t),n|0}function pn(n,r,t){throw v.infos[n]={ptr:n,adjusted:n,type:r,destructor:t,refcount:0,caught:!1,rethrown:!1},v.last=n,"uncaught_exception"in G?G.uncaught_exception++:G.uncaught_exception=1,n}function mn(){}function yn(){e.abort()}function Ie(n){return Math.pow(2,n)}function dn(){return Ie.apply(null,arguments)}function vn(n,r,t){return T.set(T.subarray(r,r+t),n),n}function gn(n){return e.___errno_location&&(M[e.___errno_location()>>2]=n),n}D=Le(4),le=ce=ge(E),X=le+me,_e=ge(X),M[D>>2]=_e,e.wasmTableSize=163,e.wasmMaxTableSize=163;function hn(n,r){var t=d();try{return e.dynCall_ii(n,r)}catch(i){if(y(t),typeof i!="number"&&i!=="longjmp")throw i;e.setThrew(1,0)}}function wn(n,r,t){var i=d();try{return e.dynCall_iii(n,r,t)}catch(a){if(y(i),typeof a!="number"&&a!=="longjmp")throw a;e.setThrew(1,0)}}function bn(n,r,t,i){var a=d();try{return e.dynCall_iiii(n,r,t,i)}catch(o){if(y(a),typeof o!="number"&&o!=="longjmp")throw o;e.setThrew(1,0)}}function An(n,r,t,i,a){var o=d();try{return e.dynCall_iiiii(n,r,t,i,a)}catch(u){if(y(o),typeof u!="number"&&u!=="longjmp")throw u;e.setThrew(1,0)}}function Tn(n,r,t,i,a,o){var u=d();try{return e.dynCall_iiiiii(n,r,t,i,a,o)}catch(_){if(y(u),typeof _!="number"&&_!=="longjmp")throw _;e.setThrew(1,0)}}function Cn(n,r,t,i,a,o,u){var _=d();try{return e.dynCall_iiiiiii(n,r,t,i,a,o,u)}catch(g){if(y(_),typeof g!="number"&&g!=="longjmp")throw g;e.setThrew(1,0)}}function Rn(n,r){var t=d();try{return e.dynCall_ji(n,r)}catch(i){if(y(t),typeof i!="number"&&i!=="longjmp")throw i;e.setThrew(1,0)}}function xn(n){var r=d();try{e.dynCall_v(n)}catch(t){if(y(r),typeof t!="number"&&t!=="longjmp")throw t;e.setThrew(1,0)}}function Sn(n,r){var t=d();try{e.dynCall_vi(n,r)}catch(i){if(y(t),typeof i!="number"&&i!=="longjmp")throw i;e.setThrew(1,0)}}function Mn(n,r,t){var i=d();try{e.dynCall_vii(n,r,t)}catch(a){if(y(i),typeof a!="number"&&a!=="longjmp")throw a;e.setThrew(1,0)}}function En(n,r,t,i){var a=d();try{e.dynCall_viii(n,r,t,i)}catch(o){if(y(a),typeof o!="number"&&o!=="longjmp")throw o;e.setThrew(1,0)}}function In(n,r,t,i,a){var o=d();try{e.dynCall_viiii(n,r,t,i,a)}catch(u){if(y(o),typeof u!="number"&&u!=="longjmp")throw u;e.setThrew(1,0)}}function jn(n,r,t,i,a,o){var u=d();try{e.dynCall_viiiii(n,r,t,i,a,o)}catch(_){if(y(u),typeof _!="number"&&_!=="longjmp")throw _;e.setThrew(1,0)}}function On(n,r,t,i,a,o,u){var _=d();try{e.dynCall_viiiiii(n,r,t,i,a,o,u)}catch(g){if(y(_),typeof g!="number"&&g!=="longjmp")throw g;e.setThrew(1,0)}}function Pn(n,r,t,i,a){var o=d();try{e.dynCall_viji(n,r,t,i,a)}catch(u){if(y(o),typeof u!="number"&&u!=="longjmp")throw u;e.setThrew(1,0)}}e.asmGlobalArg={},e.asmLibraryArg={abort:O,assert:U,enlargeMemory:ze,getTotalMemory:qe,abortOnCannotGrowMemory:He,invoke_ii:hn,invoke_iii:wn,invoke_iiii:bn,invoke_iiiii:An,invoke_iiiiii:Tn,invoke_iiiiiii:Cn,invoke_ji:Rn,invoke_v:xn,invoke_vi:Sn,invoke_vii:Mn,invoke_viii:En,invoke_viiii:In,invoke_viiiii:jn,invoke_viiiiii:On,invoke_viji:Pn,__ZSt18uncaught_exceptionv:G,___assert_fail:fn,___cxa_allocate_exception:ln,___cxa_find_matching_catch:L,___cxa_find_matching_catch_2:cn,___cxa_free_exception:Ee,___cxa_throw:pn,___gxx_personality_v0:mn,___resumeException:_n,___setErrNo:gn,_abort:yn,_do_error:nn,_do_progress:rn,_emscripten_memcpy_big:vn,_get_file_contents:tn,_llvm_exp2_f32:Ie,_llvm_exp2_f64:dn,_put_file_contents:an,_put_file_size:on,DYNAMICTOP_PTR:D,tempDoublePtr:sn,ABORT:ae,STACKTOP:ce,STACK_MAX:X};var je=e.asm(e.asmGlobalArg,e.asmLibraryArg,m);e.asm=je,e._DApi_Alloc=function(){return e.asm._DApi_Alloc.apply(null,arguments)},e._DApi_Compress=function(){return e.asm._DApi_Compress.apply(null,arguments)},e.___cxa_can_catch=function(){return e.asm.___cxa_can_catch.apply(null,arguments)},e.___cxa_is_pointer_type=function(){return e.asm.___cxa_is_pointer_type.apply(null,arguments)},e.___em_js__do_error=function(){return e.asm.___em_js__do_error.apply(null,arguments)},e.___em_js__do_progress=function(){return e.asm.___em_js__do_progress.apply(null,arguments)},e.___em_js__get_file_contents=function(){return e.asm.___em_js__get_file_contents.apply(null,arguments)},e.___em_js__put_file_contents=function(){return e.asm.___em_js__put_file_contents.apply(null,arguments)},e.___em_js__put_file_size=function(){return e.asm.___em_js__put_file_size.apply(null,arguments)};var Bn=e._emscripten_replace_memory=function(){return e.asm._emscripten_replace_memory.apply(null,arguments)},kn=e._free=function(){return e.asm._free.apply(null,arguments)};e._llvm_bswap_i32=function(){return e.asm._llvm_bswap_i32.apply(null,arguments)};var Oe=e._malloc=function(){return e.asm._malloc.apply(null,arguments)};e._memcpy=function(){return e.asm._memcpy.apply(null,arguments)},e._memset=function(){return e.asm._memset.apply(null,arguments)},e._sbrk=function(){return e.asm._sbrk.apply(null,arguments)},e.establishStackSpace=function(){return e.asm.establishStackSpace.apply(null,arguments)},e.getTempRet0=function(){return e.asm.getTempRet0.apply(null,arguments)},e.runPostSets=function(){return e.asm.runPostSets.apply(null,arguments)};var $=e.setTempRet0=function(){return e.asm.setTempRet0.apply(null,arguments)};e.setThrew=function(){return e.asm.setThrew.apply(null,arguments)},e.stackAlloc=function(){return e.asm.stackAlloc.apply(null,arguments)};var y=e.stackRestore=function(){return e.asm.stackRestore.apply(null,arguments)},d=e.stackSave=function(){return e.asm.stackSave.apply(null,arguments)};e.dynCall_ii=function(){return e.asm.dynCall_ii.apply(null,arguments)},e.dynCall_iii=function(){return e.asm.dynCall_iii.apply(null,arguments)},e.dynCall_iiii=function(){return e.asm.dynCall_iiii.apply(null,arguments)},e.dynCall_iiiii=function(){return e.asm.dynCall_iiiii.apply(null,arguments)},e.dynCall_iiiiii=function(){return e.asm.dynCall_iiiiii.apply(null,arguments)},e.dynCall_iiiiiii=function(){return e.asm.dynCall_iiiiiii.apply(null,arguments)},e.dynCall_ji=function(){return e.asm.dynCall_ji.apply(null,arguments)},e.dynCall_v=function(){return e.asm.dynCall_v.apply(null,arguments)},e.dynCall_vi=function(){return e.asm.dynCall_vi.apply(null,arguments)},e.dynCall_vii=function(){return e.asm.dynCall_vii.apply(null,arguments)},e.dynCall_viii=function(){return e.asm.dynCall_viii.apply(null,arguments)},e.dynCall_viiii=function(){return e.asm.dynCall_viiii.apply(null,arguments)},e.dynCall_viiiii=function(){return e.asm.dynCall_viiiii.apply(null,arguments)},e.dynCall_viiiiii=function(){return e.asm.dynCall_viiiiii.apply(null,arguments)},e.dynCall_viji=function(){return e.asm.dynCall_viji.apply(null,arguments)},e.asm=je,e.then=function(n){if(e.calledRun)n(e);else{var r=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){r&&r(),n(e)}}return e};function Z(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}Z.prototype=new Error,Z.prototype.constructor=Z,F=function n(){e.calledRun||ye(),e.calledRun||(F=n)};function ye(n){if(n=n||e.arguments,j>0||(Ke(),j>0)||e.calledRun)return;function r(){e.calledRun||(e.calledRun=!0,!ae&&(Ve(),Xe(),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Je()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),r()},1)):r()}e.run=ye;function O(n){throw e.onAbort&&e.onAbort(n),n!==void 0?(ve(n),S(n),n=JSON.stringify(n)):n="",ae=!0,"abort("+n+"). Build with -s ASSERTIONS=1 for more info."}if(e.abort=O,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return e.noExitRuntime=!0,ye(),e.ready=new Promise(function(n,r){delete e.then,e.onAbort=function(t){r(t)},Se(function(){n(e)})}),l}}();typeof exports=="object"&&typeof module=="object"?module.exports=q:typeof define=="function"&&define.amd?define([],function(){return q}):typeof exports=="object"&&(exports.MpqCmp=q);const N=self;let Y=null,ne=0,K=null,de=0;function Pe(s){N.postMessage({action:"progress",value:s})}const Be={exit_error(s){throw Error(s)},get_file_contents(s,l){Y&&s.set(Y.subarray(l-ne,l-ne+s.byteLength))},put_file_size(s){K=new Uint8Array(s)},put_file_contents(s,l){K&&K.set(s,l)},progress(s,l){(s===l||performance.now()>de+100)&&(Pe(s),de=performance.now())}};N.DApi=Be;async function ke({binary:s,mpq:l,input:e,offset:R,blockSize:w}){if(!s||!l||!e||R===void 0||w===void 0)throw new Error("Invalid arguments passed to the worker");const b=await q({wasmBinary:s}).ready;Y=new Uint8Array(l),ne=R;const x=e.length/6,k=b._DApi_Alloc(e.byteLength);b.HEAPU32.set(e,k>>2);const W=b._DApi_Compress(R+Y.length,w,x,k)>>2;return[K.buffer,b.HEAPU32.slice(W,W+x*4)]}N.addEventListener("message",({data:s})=>{switch(s.action){case"run":ke(s).then(([l,e])=>N.postMessage({action:"result",buffer:l,blocks:e},[l,e.buffer]),l=>N.postMessage({action:"error",error:l.toString(),stack:l.stack}));break}})})();
